language: python
python:
  - "2.7"
before_script: mkdir -p shippable/codecoverage shippable/testresults
before_install:
  - sudo apt-get -y install python-pip python-dev g++ make libfreetype6-dev libpng-dev libopenblas-dev liblapack-dev gfortran r-base libssl-dev libreadline-dev
  - pip install --quiet --use-mirrors numpy cython
install:
  #- pip install -e git+https://github.com/hackliff/intuition.git@develop#egg=intuition
  - pip install --use-mirrors --upgrade -r dev-requirements.txt
  - python setup.py install
script:
  - nosetests tests --with-coverage --cover-package=insights --with-xunit --xunit-file=shippable/testresults/nosetests.xml
  - coverage xml -o shippable/codecoverage/coverage.xml
notifications:
  mail:
    xavier.bruhiere@gmail.com
